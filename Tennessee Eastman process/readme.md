This file includes:
(1) 2TE Process Simulator;
(2) the dataset is generated by this Simulator.


Users should cite the *original code* using the following references:
- [J.J. Downs and E.F. Vogel, *A plant-wide industrial process control problem*, Computers and Chemical Engineering, 17:245-255 (1993)](https://doi.org/10.1016/0098-1354(93)80018-I).

Users should cite the latest version using the following references:
- [Bathelt, Andreas, N. Lawrence Ricker, and Mohieddine Jelali. "Revision of the tennessee eastman process model." IFAC-PapersOnLine 48.8 (2015): 309-314.]


### Instructions for running the program

1. Go to line `220`, change `NPTS` to the number of data points to simulate. For each minute of operation, 60 points are generated.
2. Go to line `226`, change `SSPTS` to the number of data points to simulate in steady state operation before implementing the disturbance.
3. Go to line `367`, implement any of the 21 programmed disturbances. For example, to implement disturbance 2, type `IDV(2)=1`.
4. The program will generate 15 output files and all data are recorded every 180 seconds, see Table 1 for details.

	The default path is the home directory.	To change the file name and path, modify lines `346-360` accordingly.
    
	To overwrite the files that already existed, change `STATUS='new'` to `STATUS='old'` from lines `346-360`.

	**Table 1:** Content of the output files
	
    \#| File Name | Content
    --| --------- | -------
     1| `TE_data_inc.dat` | Time (in seconds)
     2| `TE_data_mv1.dat` | Measurements for manipulated variables 1 to 4
     3| `TE_data_mv2.dat` | Measurements for manipulated variables 5 to 8
     4| `TE_data_mv3.dat` | Measurements for manipulated variables 9 to 12
     5| `TE_data_me01.dat` | Measurements for measurement variables 1 to 4
     6| `TE_data_me02.dat` | Measurements for measurement variables 5 to 8
     7| `TE_data_me03.dat` | Measurements for measurement variables 9 to 12
     8| `TE_data_me04.dat` | Measurements for measurement variables 13 to 16
     9| `TE_data_me05.dat` | Measurements for measurement variables 17 to 20
    10| `TE_data_me06.dat` | Measurements for measurement variables 21 to 24
    11| `TE_data_me07.dat` | Measurements for measurement variables 25 to 28
    12| `TE_data_me08.dat` | Measurements for measurement variables 29 to 32
    13| `TE_data_me09.dat` | Measurements for measurement variables 33 to 36
    14| `TE_data_me10.dat` | Measurements for measurement variables 37 to 40
    15| `TE_data_me11.dat` | Measurements for measurement variable 41

5. To ensure the randomness of the measurement noises, the random number `G` in the sub program (`teprob.f`, line 1187) has to be changed each time before running `temain_mod.f`.
6. Save the changes in `temain_mod.f` and `teprob.f` and compile the program in unix by typing
	```bash
	  f77 temain_mod.f teprob.f
	```
7. Run the program by typing
	```bash
	  a.out
	```

## `teprob.f`

Revised 4-4-91 to correct error in documentation of manipulated variables

**Tennessee Eastman Process Control Test Problem**

> James J. Downs and Ernest F. Vogel
> 
> Process and Control Systems Engineering
> 
> Tennessee Eastman Company
> 
> P.O. Box 511
> 
> Kingsport, TN  37662


*Differences between the code and its description in the paper:*

1. Subroutine `TEINIT` has `TIME` in the argument list. `TEINIT` sets `TIME` to zero.
2. There are 8 utility subroutines (`TESUBi`) rather than 5.
3. Process disturbances 14 through 20 do *NOT* need to be used in conjunction with another disturbance as stated in the paper. All disturbances can be used alone or in any combination.

### Manipulated Variables

Variable | Description
-------- | -----------
`XMV(1)`  | D Feed Flow (stream 2)            (Corrected Order)
`XMV(2)`  | E Feed Flow (stream 3)            (Corrected Order)
`XMV(3)`  | A Feed Flow (stream 1)            (Corrected Order)
`XMV(4)`  | A and C Feed Flow (stream 4)
`XMV(5)`  | Compressor Recycle Valve
`XMV(6)`  | Purge Valve (stream 9)
`XMV(7)`  | Separator Pot Liquid Flow (stream 10)
`XMV(8)`  | Stripper Liquid Product Flow (stream 11)
`XMV(9)`  | Stripper Steam Valve
`XMV(10)` | Reactor Cooling Water Flow
`XMV(11)` | Condenser Cooling Water Flow
`XMV(12)` | Agitator Speed

### Continuous Process Measurements

Variable | Description | unit
-------- | ----------- | ----
`XMEAS(1)`  | A Feed  (stream 1)                  | kscmh
`XMEAS(2)`  | D Feed  (stream 2)                  | kg/hr
`XMEAS(3)`  | E Feed  (stream 3)                  | kg/hr
`XMEAS(4)`  | A and C Feed  (stream 4)            | kscmh
`XMEAS(5)`  | Recycle Flow  (stream 8)            | kscmh
`XMEAS(6)`  | Reactor Feed Rate  (stream 6)       | kscmh
`XMEAS(7)`  | Reactor Pressure                    | kPa gauge
`XMEAS(8)`  | Reactor Level                       | %
`XMEAS(9)`  | Reactor Temperature                 | Deg C
`XMEAS(10)` | Purge Rate (stream 9)               | kscmh
`XMEAS(11)` | Product Sep Temp                    | Deg C
`XMEAS(12)` | Product Sep Level                   | %
`XMEAS(13)` | Prod Sep Pressure                   | kPa gauge
`XMEAS(14)` | Prod Sep Underflow (stream 10)      | m3/hr
`XMEAS(15)` | Stripper Level                      | %
`XMEAS(16)` | Stripper Pressure                   | kPa gauge
`XMEAS(17)` | Stripper Underflow (stream 11)      | m3/hr
`XMEAS(18)` | Stripper Temperature                | Deg C
`XMEAS(19)` | Stripper Steam Flow                 | kg/hr
`XMEAS(20)` | Compressor Work                     | kW
`XMEAS(21)` | Reactor Cooling Water Outlet Temp   | Deg C
`XMEAS(22)` | Separator Cooling Water Outlet Temp | Deg C

### Sampled Process Measurements

- Reactor Feed Analysis (Stream 6)
  > - Sampling Frequency = 0.1 hr
  > - Dead Time = 0.1 hr
  > - Mole %


	Variable | Description
	-------- | -----------
	`XMEAS(23)` | Component A
	`XMEAS(24)` | Component B
	`XMEAS(25)` | Component C
	`XMEAS(26)` | Component D
	`XMEAS(27)` | Component E
	`XMEAS(28)` | Component F

- Purge Gas Analysis (Stream 9)
  > - Sampling Frequency = 0.1 hr
  > - Dead Time = 0.1 hr
  > - Mole %

	Variable | Description
	-------- | -----------
	`XMEAS(29)` | Component A
	`XMEAS(30)` | Component B
	`XMEAS(31)` | Component C
	`XMEAS(32)` | Component D
	`XMEAS(33)` | Component E
	`XMEAS(34)` | Component F
	`XMEAS(35)` | Component G
	`XMEAS(36)` | Component H

- Product Analysis (Stream 11)
  > - Sampling Frequency = 0.25 hr
  > - Dead Time = 0.25 hr
  > - Mole %

	Variable | Description
	-------- | -----------
	`XMEAS(37)` | Component D
	`XMEAS(38)` | Component E
	`XMEAS(39)` | Component F
	`XMEAS(40)` | Component G
	`XMEAS(41)` | Component H

### Process Disturbances (Fault)

Fault ID | Descriptions                                                                   | Type
-------- | -------------------------------------------------------------------------------|-----------------
`IDV(1)`  | A/C Feed Ratio, B Composition Constant (Stream 4)        				      | Step
`IDV(2)`  | B Composition, A/C Ratio Constant (Stream 4)             				      | Step
`IDV(3)`  | D Feed Temperature (Stream 2)                            				      | Step
`IDV(4)`  | Reactor Cooling Water Inlet Temperature                  				      | Step
`IDV(5)`  | Condenser Cooling Water Inlet Temperature                				      | Step
`IDV(6)`  | A Feed Loss (Stream 1)                                   				      | Step
`IDV(7)`  | C Header Pressure Loss - Reduced Availability (Stream 4) 				      | Step
`IDV(8)`  | A, B, C Feed Composition (Stream 4)          				  | Random Variation
`IDV(9)`  | D Feed Temperature (Stream 2)                				  | Random Variation
`IDV(10)` | C Feed Temperature (Stream 4)                				  | Random Variation
`IDV(11)` | Reactor Cooling Water Inlet Temperature     		        	  | Random Variation
`IDV(12)` | Condenser Cooling Water Inlet Temperature    				  | Random Variation
`IDV(13)` | Reaction Kinetics                                  			      		   | Slow Drift
`IDV(14)` | Reactor Cooling Water Valve                          		       	 	   | Sticking
`IDV(15)` | Condenser Cooling Water Valve                        		        	   | Sticking
`IDV(16)` | Unknown                                               				   | Unknown
`IDV(17)` | Unknown                                               			           | Unknown
`IDV(18)` | Unknown                                               			  	   | Unknown
`IDV(19)` | Unknown                                              				   | Unknown
`IDV(20)` | Unknown                                              				   | Unknown
`IDV(21)` | A feed temperature (stream 1)                          			  | Random Variation
`IDV(22)` | E feed temperature (stream 3)                          			  | Random Variation 
`IDV(23)` | A feed pressure (stream 1)                             			  | Random Variation
`IDV(24)` | D feed pressure (stream 2)                             			  | Random Variation
`IDV(25)` | E feed pressure (stream 3)                                                    | Random Variation
`IDV(26)` | A and C feed pressure (stream 4)                                              | Random Variation
`IDV(27)` | pressure ﬂuctuation in the cooling water re-circulating unit of the reactor   | Random Variation
`IDV(28)` | pressure ﬂuctuation in the cooling water re-circulating unit of the condenser | Random Variation

			
